<!DOCTYPE html>
<html lang="zh-CN" class="pc-loading">

<head>
<body>
  <ul class="list">

  </ul>
  <script>
  
  // var dog = {
  //   eat: function  () {
  //     console.log('eat food')
  //   }
  // }


  // var a = Object.create(dog);
  // var b = new (dog);
  // console.log(dog.isPrototypeOf(a))
  // console.log(b instanceof dog)


  // function addEle() {
  //   let ul = document.querySelector('.list');
  //   let fragment = document.createDocumentFragment();
  //   for (let i=0; i < 100; i++) {
  //     let li = document.createElement('li');
  //     fragment.appendChild(li);
  //   }
  //   ul.appendChild(fragment)
  // }

  let total = 10000;
  let index = 0;
  let rafID;
  function addEle() {
    if (index >= total) {
      window.cancelAnimationFrame(rafID);
      return;
    } 
    let ul = document.querySelector('.list');
    let fragment = document.createDocumentFragment();
    for (let i = index; i < index + 1000; i++) {
      let li = document.createElement('li');
      li.innerHTML = i;
      fragment.appendChild(li);
    }
    index += 1000;
    ul.appendChild(fragment);
    rafID = window.requestAnimationFrame(addEle);
  }
  rafID = window.requestAnimationFrame(addEle);

  </script>
</body>

</html>